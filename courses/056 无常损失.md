#### 概念：
- 名称：无常损失（Impermanent Loss）
- 泛型解释1：它是去中心化金融（DeFi）中流动性提供者面临的一种风险，尤其在自动做市商（AMM）模型下尤为显著。
- 泛型解释2：它指的是当流动性提供者将资产存入流动性池后，由于市场价格波动导致的相对损失，这种损失在流动性提供者提取资产时变得显现。
- 泛型解释3：它是指流动性池内的代币价值与池外相同代币的市场价值之间的差异。
- 具体化解释：当流动性提供者将代币存入池中后，如果这些代币的市场价格发生变化，可能导致"其在池中的价值"低于"如果直接持有这些代币时的价值"。

　

#### 示例：
- 假如，在一个全新的流动性池中，用户A为它提供流动性，发生以下操作:

　

- 时刻0：用户A，放入1个ETH与100个USDT，形成：```1 · ETH = 100 · USDT```
- 时刻0：用户B，手持1个ETH与100个USDT，在场外一直观望，不放入这个流动性池。
```    
    -> 按照恒积自动做市商的规则，1个ETH与100个USDT，构成恒积: X · Y = K，即 1 · 100 = 100
    -> 1个ETH 的价值等价于 100个USDT
    -> 此时，用户A移除流动性，则持有的价值为：1个ETH 和 100个USDT，全部换算为USDT，就等价于[ (1*100)100个USDT + 100个USDT ] = [ 200个USDT ]
```
- 时刻0：用户B，手持1个ETH与100个USDT，它全部换算为USDT，就等价于[ (1*100)100个USDT + 100个USDT ] = [ 200个USDT ]
- 由此，可观察到，此时，提供原来流动性的用户A的持有价值只有[ 200个USDT ]，是完全等价于在场外的用户B的[ 200个USDT ]

　

- 时刻1.1：经过其他用户的大量交易，ETH涨了，形成：```0.8 · ETH = 125 · USDT```
```
    -> 按照恒积自动做市商的规则，0.8个ETH与125个USDT，构成恒积: X · Y = K，即 0.8 · 125 = 100
    -> 1个ETH 的价值等价于 125/0.8 = 156.25 USDT
    -> 此时，用户A移除流动性，则持有的价值为：0.8个ETH 和 125个USDT，全部换算为USDT，就等价于[ (0.8*156.25)125个USDT + 125个USDT ] = [ 250个USDT ]
```
- 时刻1.1：用户B，仍然手持1个ETH与100个USDT，它全部换算为USDT，就等价于[ (1*156.25)156.25个USDT + 100个USDT ] = [ 256.25个USDT ]
- 由此，可观察到，当ETH涨的时候，提供原来流动性的用户A的持有价值只有[ 250个USDT ]，是低于在场外的用户B的[ 256.25个USDT ]

　

- 假如，没有发生时刻1.1，而是发生时刻1.2：经过其他用户的大量交易，ETH跌了，形成：```1.25 · ETH = 80 · USDT```
```
    -> 按照恒积自动做市商的规则，1.25个ETH与80个USDT，构成恒积: X · Y = K，即 1.25 · 80 = 100
    -> 1个ETH 的价值等价于 80/1.25 = 64 USDT    
    -> 此时，用户A移除流动性，则持有的价值为：1.25个ETH 和 80个USDT，全部换算为USDT，就等价于[ (1.25*64)80个USDT + 80个USDT ] = [ 160个USDT ]
```
- 时刻1.1：用户B，仍然手持1个ETH与100个USDT，它全部换算为USDT，就等价于[ (1*64)64个USDT + 100个USDT ] = [ 164个USDT ]
- 由此，可观察到，当ETH跌的时候，提供原来流动性的用户A的持有价值只有[ 160个USDT ]，是低于在场外的用户B的[ 164个USDT ]

　

---------------------------------------------------------------------------------------------------

　

#### 无常损失的影响因素：
- 资产波动性：波动性越大，发生无常损失的风险也越高。
- 流动性池的组成：不同类型的资产组合会影响无常损失的程度。例如，将稳定币与高波动性的加密货币配对，通常会增加无常损失的风险。
- 市场条件：市场价格的大幅波动会加剧无常损失，尤其是在流动性不足或交易量较低时。

　

#### 完全避免无常损失是不可能的，但去中心化金融项目方，一般会采用以下方法来弥补，或缓解无常损失对流动性提供者的影响：
- uniswap项目：用户在进行swap交换交易的时候，会收取一定的手续费，这个手续费会存入流动性池合约的一个专门账户里，它作为奖励的"分配"给"流动性提供者用户"，当这些用户可以提取这些奖励。
- SushiSwap项目：除了"把手续费作为奖励，分配给流动性提供者用户"外，还为流动性提供者分配"额外的代币(原生平台的代币)"。